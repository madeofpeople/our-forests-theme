@use 'sass:map';

*, *:before, *:after {
	box-sizing: border-box;
}

%grid-three {

	grid-column-gap:  spacing(sm);
	grid-row-gap:  spacing(sm);

	@media ( min-width: bp(sm) ) {
		display: grid;
		grid-column-gap:  spacing(md);
		grid-row-gap:  spacing(md);
		grid-template-columns: 1fr 1fr 1fr;
	}

	> a.wp-block-hyperlink-group {
		display: block;
	}
}

body {
	background-color: color('grey-dark');
}

main {
	max-width: 1512px;
	margin: 0 auto;
	background-color: color('green-dark');
}

.site-branding,
article.page {
	background-color: color('green-dark');
}

.hero {

	position: relative;
	flex-wrap: no-wrap;

	.wp-block-gallery {
		max-width: 100%;
		position: relative;
		left: 50%;
		transform: translate3d(-50%, 0, 0) !important;
		margin-left: 0;
		margin-right: 0;
		flex-wrap: nowrap;
	}

	p {
		text-align: center;
		color: color(green-light);
		&:first-of-type {
			font-size: fs(h5);
		}
	}
}

.is-layout-constrained {
	max-width: bp(lg);
	margin: 0 auto;
	padding: spacing(md);
	padding-top: spacing(xs);
	@media (min-width: bp(md)) {
		padding-top: 0;
		padding-bottom: spacing(md);
		padding-left: 0;
		padding-right: 0;
	}
}

section p {
	padding-left: spacing(xs);
	padding-right: spacing(xs);
	@media (min-width: bp(md)) {
		padding-left: 0;
		padding-right: 0;
	}
}

.wp-block-column {
	margin-top: spacing(md);

}

#campaign-goals {

	background-color: color(grey-dark);
	margin: 0;

	> .wp-block-columns {
		padding: spacing(sm);
		margin: 0;
		@media (min-width: bp(md)) {
			display: grid;
			grid-template-columns: 1fr 1fr 1fr;
			grid-auto-flow: column;
		}
		> .wp-block-column {
			height: 100%;
			a {
				height: 100%;
			}
		}
	}

	.wp-block-tiptip-hyperlink-group-block {

		text-decoration: none;

		h3 {
			font-size: fs(h5);
			margin-top: 0;
		}
		p {
			font-size: fs(body);
			font-weight: normal;
		}
	}

	@media (min-width: bp(md)) {

		> .wp-block-columns {
			padding: spacing(md);
		}

		.wp-block-tiptip-hyperlink-group-block {
			h3 {
				font-size: fs(h4);
			}
			p {

			}
		}
	}

}

#amplify,
#drive,
#support {
	color: color(white);

	> .is-layout-constrained {
		padding-top: spacing(md);
	}
}

#social {
	padding-bottom: spacing(md);
	> p {
		margin-top: 2rem;
		margin-bottom: 3rem;
	}
}

#support,
#drive {

	padding: 0;
	color: color(grey-dark);

	.content {
		margin: spacing(sm);
		padding: spacing(md);
		background-color: rgba( #fff, 0.8) !important;
		backdrop-filter: blur(spacing(xs));

		@media (min-width: bp(md)) {
			margin: spacing(lg) auto;
			padding: spacing(lg);
		}
	}
}

#support li {
	font-weight: bold;
}

.svg-sprite-wrapper {
    overflow: hidden;
    position: relative;
    display: inline-block;

    a,
    div,
    svg {
        height: 100%;
        left: 0;
        position: absolute;
        top: 0;
        width: 100%;
    }
}

.entry-content {
	p {
		line-height: 165%;
	}
}

.wp-block-group.content,
.wp-block-column {

	ul {

		list-style: none;
		padding: 0;
		margin: 0;

		li {
			padding: 0.75rem 0;
			border-top: 1px #aaa solid;
		}
	}
}

#support {
	.wp-block-group.content {
		@media screen and (min-width: bp(sm)) {
			ul {
				display: grid;
				grid-template-columns: 1fr 1fr;
				grid-row-gap: 2rem;
				grid-column-gap: 2rem;
			}
		}
	}

	.sign-up {
		margin-top: 2rem;
		padding: 2rem;
		background-color: color('green-dark');
		color: color('white');

		h3 {
			padding: 0;
			margin-top: 0;
		}

		h3,
		p,
		label span,
		.yikes-mailchimp-eu-compliance-text {
			color: color('white');
		}
	}
}

.page-partners {
	.wp-block-tiptip-hyperlink-group-block {
		text-decoration: none;
	}
}

.page-defenders,
.page-partners,
.page-resources,
.page-episodes {

	.entry-header {
		text-align: center;
	}

	.site-title {
		position: fixed;
		left: 100vw;
		height: 100vw;
		width: 0;
		height: 0;
		overflow: hidden;
	}

	.entry-content {
		max-width: bp(xl);
		margin: 0 auto 5rem auto;
		padding: 5rem 0 3rem 0;
		background-color: color('white');

		h4 {
			margin-bottom: 0;
		}


		> .wp-block-group > .wp-block-group > .wp-block-group {
			margin-bottom: 0;
			padding-bottom: 0;
			border-bottom: 1px #dedede solid;

			p {
				margin-top: 0;

			}
		}


		p {

			img {
				float: left;
				display: inline-block;
				margin-right: 2rem;
			}
		}
	}
}

.page-defenders,
.page-episodes {


	.entry-content {
		padding: 0 0 3rem 0;
		background-color: color('grey-dark');
	}

	.episodes {
		display: grid;
		grid-template-columns: 1fr;
		grid-column-gap: 4rem;
		grid-row-gap: 4rem;
		color: color('white');

		@media screen and (min-width: bp(sm)) {
			grid-template-columns: 1fr 1fr;
		}
	}

	.episodes-wrapper {
		background-color: color('black');
		padding: 2rem;
		margin: 2rem 0 2rem 0;
		width: 100%;

		> p {
			margin-bottom: 3rem;
			font-size: 1.2em;
		}
	}
}
